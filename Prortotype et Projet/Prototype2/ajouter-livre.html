<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <a href="indeix.html">Acceuil</a>
    <form id="form">
        <label for="titre">Titre</label>
        <input type="text" id="titre">

        <label for="auteur">Auteur</label>
        <input type="text" id="auteur">

        <label for="code">Code</label>
        <input type="text" id="code">

        <label for="prix">Prix</label>
        <input type="text" id="prix">

        <label for="annee">Annee</label>
        <input type="text" id="annee">

        <label for="disponible">Disponible</label>
        <input type="checkbox" id="disponible">

        <button id="btn">Ajouter</button>
    </form>
    <ul id="list"></ul>
    <script>
 
 let button = document.getElementById("btn");
 button.addEventListener("click",function(e){
    e.preventDefault();

let titre = document.getElementById("titre");
let auteur = document.getElementById("auteur");
let code = document.getElementById("code");
let prix = document.getElementById("prix");
let annee = document.getElementById("annee");
let disponible = document.getElementById("disponible");
let list = document.getElementById("list");

if(titre.value !== "" && auteur.value!==""&&  !isNaN(code.value)&& !isNaN(prix.value)&& !isNaN(annee.value>2000)){
    let book = {titre: titre.value,
  auteur: auteur.value,
  code: code.value,
  prix: prix.value,
  annee: annee.value,
  disponible: disponible.checked,
}
  bibliotheque.push(book);
  localStorage.setItem("bibliotheque", JSON.stringify(bibliotheque));
} else{
    if(titre.value == ""){
        let error = document.createElement("li");
        error.innerText = "title is empty";
        list.appendChild(error);
    }
    if(auteur.value == ""){
        let error = document.createElement("li");
        error.innerText = "Auteur is empty";
        list.appendChild(error);
    }
    if(isNaN(code.value)|| code.value== ""){
        let error = document.createElement("li");
        error.innerText = "Code is not a numbre or empty";
        list.appendChild(error);
    }
    if(isNaN(prix.value) || prix.value ==""){
        let error = document.createElement("li");
        error.innerText = "Prix is not a numbre or empty";
        list.appendChild(error);
    }
    if(isNaN(annee.value) || annee.value<=2000){
        let error = document.createElement("li");
        error.innerText = "annee is not a numbre and less than 2000 or empty";
        list.appendChild(error);
    }

}})
    </script>
</body>
</html>